import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,a as s,b as i,d as n,w as r,e as o,r as d,o as p}from"./app-DyMv-yxf.js";const h={};function c(m,e){const a=d("RouteLink");return p(),t("div",null,[e[6]||(e[6]=s("p",null,"Upgrading the DSF from 2.0.1 to 2.0.2 involves modifying the image versions in the docker-compose.yml files and recreating the containers.",-1)),s("p",null,[e[1]||(e[1]=i("DSF 2 was designed to run DSF 1 (APIv1) process plugins, but due to stricter validation rules in DSF 2 we strongly recommend using the latest compatible plugin versions. Updates within the same major and minor version (e.g., from 1.2.3.4 to 1.2.9.9) are generally safe. An overview of the recommended MII/NUM versions can be found ",-1)),n(a,{to:"/operations/v2.0.2/install-plugins.html"},{default:r(()=>[...e[0]||(e[0]=[i("here",-1)])]),_:1}),e[2]||(e[2]=i(".",-1))]),s("p",null,[e[4]||(e[4]=i("If you have installed the NUM Dashboard Process Plugin, you can ",-1)),n(a,{to:"/operations/v2.0.2/install-plugins.html"},{default:r(()=>[...e[3]||(e[3]=[i("remove the workaround",-1)])]),_:1}),e[5]||(e[5]=i(".",-1))]),e[7]||(e[7]=o(`<h2 id="modify-dsf-fhir-server-setup" tabindex="-1"><a class="header-anchor" href="#modify-dsf-fhir-server-setup"><span>Modify DSF FHIR Server Setup</span></a></h2><ol><li><p>Preparation / Backup</p><ul><li>We recommend to create a backup of the <code>/opt/fhir</code> directory before proceeding with the upgrade.<br> For example using: <code>sudo cp -rp /opt/fhir /opt/fhir_backup_pre_2.0.2_upgrade</code></li></ul></li><li><p>Modify the DSF FHIR docker-compose.yml file, replace the version number with 2.0.2.</p></li></ol><div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-diff"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> version: &#39;3.8&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> services:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   proxy:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">-    image: ghcr.io/datasharingframework/fhir_proxy:2.0.1</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">+    image: ghcr.io/datasharingframework/fhir_proxy:2.0.2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     restart: on-failure</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   app:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">-    image: ghcr.io/datasharingframework/fhir:2.0.1</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">+    image: ghcr.io/datasharingframework/fhir:2.0.2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     restart: on-failure</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Upgrade the DSF FHIR containers<br> From <code>/opt/fhir</code> execute<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker compose up -d &amp;&amp; docker compose logs -f</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h2 id="modify-dsf-bpe-server-setup" tabindex="-1"><a class="header-anchor" href="#modify-dsf-bpe-server-setup"><span>Modify DSF BPE Server Setup</span></a></h2><ol><li><p>Preparation / Backup</p><ul><li>We recommend to create a backup of the <code>/opt/bpe</code> directory before proceeding with the upgrade.<br> For example using: <code>sudo cp -rp /opt/bpe /opt/bpe_backup_pre_2.0.2_upgrade</code></li></ul></li><li><p>Modify the DSF BPE docker-compose.yml file, replace the version number with 2.0.2.</p></li></ol><div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-diff"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> version: &#39;3.8&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> services:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   app:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">-    image: ghcr.io/datasharingframework/bpe:2.0.1</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">+    image: ghcr.io/datasharingframework/bpe:2.0.2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     restart: on-failure</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><p>Upgrade the DSF BPE containers<br> From <code>/opt/bpe</code> execute</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker compose up -d &amp;&amp; docker compose logs -f</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Verify your upgrade:</p><ul><li>Verify the DSF FHIR server is running in version 2.0.2. The log should contain a message:<br><code>INFO main - BuildInfoReaderImpl.logBuildInfo(137) | Artifact: dsf-fhir-server-jetty, version: 2.0.2, [...]</code></li><li>Verify the DSF FHIR server started without errors</li><li>Verify the DSF FHIR server is accessible via https, for example by browsing to <a href="https://your-dsf-endpoint.de/fhir/" target="_blank" rel="noopener noreferrer">https://your-dsf-endpoint.de/fhir/</a> (authentication with your client-certificate)</li><li>Verify the DSF BPE server is running in version 2.0.2. The log should contain a message:<br><code>INFO main - BuildInfoReaderImpl.logBuildInfo(137) | Artifact: dsf-bpe-server-jetty, version: 2.0.2, [...]</code></li><li>Verify the DSF BPE server started without errors</li><li>Verify your install with a ping/pong test</li></ul></li></ol>`,8))])}const k=l(h,[["render",c]]),v=JSON.parse('{"path":"/operations/v2.0.2/upgrade-from-2.html","title":"Upgrade from DSF 2.0.1","lang":"en-US","frontmatter":{"title":"Upgrade from DSF 2.0.1","icon":"update"},"git":{"createdTime":1764182434000,"updatedTime":1770719193000,"contributors":[{"name":"Simon Schweizer","username":"","email":"simon@schwzr.de","commits":3},{"name":"Maximilian Kurscheidt","username":"","email":"maximilian.kurscheidt@hs-heilbronn.de","commits":2}]},"readingTime":{"minutes":1.26,"words":377},"filePathRelative":"operations/v2.0.2/upgrade-from-2.md","excerpt":"<p>Upgrading the DSF from 2.0.1 to 2.0.2 involves modifying the image versions in the docker-compose.yml files and recreating the containers.</p>\\n<p>DSF 2 was designed to run DSF 1 (APIv1) process plugins, but due to stricter validation rules in DSF 2 we strongly recommend using the latest compatible plugin versions. Updates within the same major and minor version (e.g., from 1.2.3.4 to 1.2.9.9) are generally safe. An overview of the recommended MII/NUM versions can be found <a href=\\"/operations/v2.0.2/install-plugins.html\\" target=\\"_blank\\">here</a>.</p>"}');export{k as comp,v as data};
